<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>Adding task to project:</h1>

<form method="POST" action="/api/projectMembers">
    <label>
        <select id="userlist"></select>
    </label>
    <label>
        Project ID: <input class="readonly" id="formProjectId" type=text name="projectid" value="" readonly/>
        <!-- Would normally be hidden from user -->
    </label>
    <button action="submit">Add selected user to project</button>
</form>

<p class="warning">PS: Will crash if user already exists in project</p>
<br>
<div>
    <a href="index.html">Return to front page</a>
</div>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const projectId = urlParams.get('projectid');

    document.getElementById("formProjectId").value = projectId;

    fetch("/api/userSelect")
        .then(function (response) {
            return response.text();
        }).then(function (text) {
        document.getElementById("userList").innerHTML = text;

    });
</script>
</body>
</html>