<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KristianiaProject</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Project view</h1>

<div>
    <h3>Members of this project:</h3>
    <ul id="projectMembers"></ul>
    <div>
        <a id="addMember">Add a new member to this project</a>
    </div>
</div>

<div>
    <h3>Tasks of this project</h3>
    <ul id="projectTasks"></ul>
    <div>
        <a id="addTask">Add a new task to this project</a>
    </div>
</div>
<br>
<div>
    <a href="index.html">Return to Front Page</a>
</div>

</body>
<script>
    const urlParams = new URLSearchParams(window.location.search);
    const projectId = urlParams.get('projectid');

    document.getElementById("addTask").setAttribute("href","addTaskToProject.html?projectid="+projectId);
    document.getElementById("addMember").setAttribute("href","addUserToProject.html?projectid="+projectId);

    fetch("/api/projectMembers?projectid=" + projectId)
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("projectMembers").innerHTML = text;
    });

    fetch("/api/tasks?projectid=" + projectId)
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("projectTasks").innerHTML = text;
    });
</script>
</html>